<!DOCTYPE html>
<html>
  <head>
    <meta name="keywords" content="Oil, Supply Chain">
    <meta name="description" content="Mapping oil supply">
    <meta name="author" content="Matt Christian">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="content-type" content="text/html; charset=UTF8">

  </head>
<body>
    <p id="showData"></p>
<script>
    fetch('PROP_risk.json')
        .then(response => response.json())
        .then(data => {
            data = data.filter(obj=> obj.features == "base");
            data = data.sort(function(a, b){return a.resilience_score - b.resilience_score});

            for (var i = 0; i < 10; i++) {
                console.log(data[i].drug);
            }






            console.log(data);

        //     var col = [];
        //     for (var i = 0; i < data.length; i++) {
        //     for (var key in data[i]) {
        //         if (col.indexOf(key) === -1) {
        //             col.push(key);
        //         }
        //     }
        //     console.log(col);
        // }
        });

    // window.onload = function() {

    //     // EXTRACT VALUE FOR HTML HEADER. 
    //     // ('Book ID', 'Book Name', 'Category' and 'Price')
    //     var col = [];
    //     for (var i = 0; i < myBooks.length; i++) {
    //         for (var key in myBooks[i]) {
    //             if (col.indexOf(key) === -1) {
    //                 col.push(key);
    //             }
    //         }
    //     }

    //     // CREATE DYNAMIC TABLE.
    //     var table = document.createElement("table");

    //     // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

    //     var tr = table.insertRow(-1);                   // TABLE ROW.

    //     for (var i = 0; i < col.length; i++) {
    //         var th = document.createElement("th");      // TABLE HEADER.
    //         th.innerHTML = col[i];
    //         tr.appendChild(th);
    //     }

    //     // ADD JSON DATA TO THE TABLE AS ROWS.
    //     for (var i = 0; i < myBooks.length; i++) {

    //         tr = table.insertRow(-1);

    //         for (var j = 0; j < col.length; j++) {
    //             var tabCell = tr.insertCell(-1);
    //             tabCell.innerHTML = myBooks[i][col[j]];
    //         }
    //     }
        
    //     // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
    //     var divContainer = document.getElementById("showData");
    //     divContainer.innerHTML = "";
    //     divContainer.appendChild(table);
    // }

</script>

    
</body>
</html>